{"version":3,"sources":["components/FilmCard/FilmCard.js","store/index.js","store/redux.js","components/FilmsList/FilmsList.js","components/FormField/FormField.js","validation.js","components/NewFilm/NewFilm.js","components/FilmDetails/FilmDetails.js","App.js","index.js"],"names":["FilmCard","props","title","description","imgUrl","imdbUrl","id","react_default","a","createElement","react_router_dom","to","concat","className","src","alt","href","defaultProps","ACTION_TYPES","ADD_NEW_FILM","addNewFilm","film","type","payload","initialState","films","store","reducer","state","listeners","getState","dispatch","action","forEach","listener","subscribe","cb","Error","push","filter","createStore","arguments","length","undefined","_objectSpread","Object","toConsumableArray","FilmsList","unsubscribe","_this2","this","setState","console","log","map","FilmCard_FilmCard_FilmCard","assign","key","React","Component","FormField","memo","error","name","label","onChange","placeholder","value","inputClass","cx","is-danger","controlClass","has-icons-right","Control","htmlFor","required","formValidators","NewFilm","_Component","_getPrototypeOf2","_this","classCallCheck","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","handleChange","_ref","_ref$target","target","prevState","defineProperty","handleSubmit","event","preventDefault","onAdd","formValue","getFormValue","_this$validate","validate","hasError","errors","newState","_ref3","_ref4","slicedToArray","fromEntries","inherits","createClass","entries","reduce","acc","entry","NewFilm_objectSpread","_ref5","_ref6","fieldData","validator","some","errorData","_this$state","onSubmit","FormField_FormField","FilmDetails","find","f","String","match","params","_this$state$film","API_URL","App","searchWord","handleAddFilm","newFilm","App_objectSpread","handleSearchChange","searchFilm","fetch","then","response","json","data","Title","Plot","Poster","Website","imdbID","_this3","onClick","react_router","exact","path","component","NewFilm_NewFilm","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.6589b1b5.chunk.js","sourcesContent":["/* eslint-disable max-len */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport './FilmCard.scss';\nimport { Link } from 'react-router-dom';\n\nexport const FilmCard = (props) => {\n  const {\n    title,\n    description,\n    imgUrl,\n    imdbUrl,\n    id,\n  } = props;\n\n  return (\n    <Link to={`/film/${id}`} className=\"card\">\n      <div className=\"card-image\">\n        <figure className=\"image is-4by3\">\n          <img\n            src={imgUrl}\n            alt=\"Film logo\"\n          />\n        </figure>\n      </div>\n      <div className=\"card-content\">\n        <div className=\"media\">\n          <div className=\"media-left\">\n            <figure className=\"image is-48x48\">\n              <img\n                src=\"https://images-na.ssl-images-amazon.com/images/I/315W5zxAnTL._SY355_.png\"\n                alt=\"imdb\"\n              />\n            </figure>\n          </div>\n          <div className=\"media-content\">\n            <p className=\"title is-4\">{title}</p>\n          </div>\n        </div>\n\n        <div className=\"content\">\n          {description}\n          <br />\n          <a href={imdbUrl}>IMDB</a>\n        </div>\n      </div>\n    </Link>\n  );\n};\n\nFilmCard.propTypes = {\n  title: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  imgUrl: PropTypes.string.isRequired,\n  imdbUrl: PropTypes.string.isRequired,\n};\n\nFilmCard.defaultProps = {\n  description: '',\n};\n","import { createStore } from './redux';\n\nconst ACTION_TYPES = {\n  ADD_NEW_FILM: 'FILM::ADD',\n};\n\nexport const addNewFilm = film => ({\n  type: ACTION_TYPES.ADD_NEW_FILM,\n  payload: film,\n});\n\nconst initialState = {\n  films: [],\n};\n\nfunction reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case ACTION_TYPES.ADD_NEW_FILM: {\n      return {\n        ...state,\n        films: [...state.films, action.payload],\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport const store = createStore(reducer);\n\n// console.log('STATE', store.getState());\n//\n// const unsubscribe1 = store.subscribe((state) => {\n//   console.log(state.films.map(({ title }) => title));\n// });\n//\n// store.dispatch(addNewFilm({ title: 'Avengers' }));\n//\n// store.subscribe((state) => {\n//   console.log(state.films);\n// });\n// unsubscribe1();\n//\n// store.dispatch(addNewFilm({ title: 'Spider-Man' }));\n\n// console.log('STATE', store.getState());\n","export function createStore(reducer) {\n  let state = reducer();\n  let listeners = [];\n\n  return {\n    getState() {\n      return state;\n    },\n    dispatch(action) {\n      state = reducer(state, action);\n\n      listeners.forEach(listener => listener(state));\n    },\n    subscribe(cb) {\n      if (typeof cb !== 'function') {\n        throw new Error('Callback should be a function');\n      }\n\n      listeners.push(cb);\n\n      return () => {\n        listeners = listeners\n          .filter(listener => listener !== cb);\n      };\n    },\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './FilmsList.scss';\nimport { FilmCard } from '../FilmCard';\nimport { store } from '../../store';\n\nclass FilmsList extends React.Component {\nstate = {\n  films: store.getState().films,\n}\n\nunsubscribe = null\n\ncomponentDidMount() {\n  this.unsubscribe = store\n    .subscribe(() => this.setState({ films: store.getState().films }));\n}\n\ncomponentWillUnmount() {\n  this.unsubscribe();\n}\n\nrender() {\n  const { films } = this.state;\n  console.log(films);\n  return (\n    <div className=\"films\">\n      {films.map(film => (\n        <FilmCard key={film.id} {...film} />\n      ))}\n    </div>\n  );\n}\n}\n\nFilmsList.propTypes = {\n  films: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    description: PropTypes.string,\n    imgUrl: PropTypes.string.isRequired,\n    imdbUrl: PropTypes.string.isRequired,\n  })),\n};\n\nFilmsList.defaultProps = {\n  films: [],\n};\n\nexport default FilmsList;\n","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport './FormField.scss';\n\nexport const FormField = memo((props) => {\n  const {\n    error,\n    name,\n    label,\n    type,\n    onChange,\n    placeholder,\n    value,\n  } = props;\n\n  const inputClass = cx('input', { 'is-danger': !!error });\n  const controlClass = cx('control', { 'has-icons-right': !!error });\n\n  const Control = type === 'textarea' ? type : 'input';\n\n  return (\n    <div className=\"field\">\n      <label htmlFor={name} className=\"label\">\n        {label}\n      </label>\n      <div className={controlClass}>\n        <Control\n          name={name}\n          id={name}\n          className={inputClass}\n          type={type}\n          placeholder={placeholder}\n          value={value}\n          onChange={onChange}\n        />\n        {error && (\n          <span className=\"icon is-small is-right\">\n            <i className=\"fas fa-exclamation-triangle\" />\n          </span>\n        )}\n      </div>\n\n      {error && (\n        <p className=\"help is-danger\">{error}</p>\n      )}\n    </div>\n  );\n});\n\nFormField.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  type: PropTypes.string,\n  error: PropTypes.string,\n  placeholder: PropTypes.string,\n};\n\nFormField.defaultProps = {\n  error: '',\n  type: 'text',\n  placeholder: 'Type text here',\n};\n","export const required = (name, value) => {\r\n  return value\r\n    ? null\r\n    : `Field ${name} is required`;\r\n};\r\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormField } from '../FormField';\nimport { required } from '../../validation';\n\nconst initialState = {\n  title: {\n    value: '',\n    error: null,\n  },\n  description: {\n    value: '',\n    error: null,\n  },\n  imgUrl: {\n    value: '',\n    error: null,\n  },\n  imdbUrl: {\n    value: '',\n    error: null,\n  },\n};\n\nconst formValidators = {\n  title: required,\n  imgUrl: required,\n  imdbUrl: required,\n};\n\nexport class NewFilm extends Component {\n  state = initialState;\n\n  getFormValue() {\n    return Object.entries(this.state)\n      .reduce((acc, entry) => ({\n        ...acc,\n        [entry[0]]: entry[1].value,\n      }), {});\n  }\n\n  handleChange = ({ target: { name, value } }) => {\n    this.setState(prevState => ({\n      [name]: {\n        value,\n        error: prevState[name].error,\n      },\n    }));\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { onAdd } = this.props;\n    const formValue = this.getFormValue();\n\n    const { hasError, errors } = this.validate();\n\n    if (hasError) {\n      this.setState((prevState) => {\n        const newState = errors.map(([name, error]) => {\n          return [\n            name,\n            {\n              error,\n              value: prevState[name].value,\n            },\n          ];\n        });\n\n        return Object.fromEntries(newState);\n      });\n    } else {\n      this.setState(initialState);\n      onAdd(formValue);\n    }\n  };\n\n  validate() {\n    const errors = Object.entries(this.state)\n      .map(([name, fieldData]) => {\n        const validator = formValidators[name];\n        const error = validator\n          ? validator(name, fieldData.value)\n          : null;\n\n        return [name, error];\n      });\n\n    const hasError = errors\n      .some(errorData => !!errorData[1]);\n\n    return {\n      hasError,\n      errors,\n    };\n  }\n\n  render() {\n    const {\n      title,\n      description,\n      imgUrl,\n      imdbUrl,\n    } = this.state;\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <FormField\n          {...title}\n          name=\"title\"\n          placeholder=\"Input film title\"\n          label=\"Title\"\n          onChange={this.handleChange}\n        />\n        <FormField\n          {...description}\n          type=\"textarea\"\n          name=\"description\"\n          placeholder=\"Input film description\"\n          label=\"Description\"\n          onChange={this.handleChange}\n        />\n        <FormField\n          {...imgUrl}\n          name=\"imgUrl\"\n          placeholder=\"Paste image url\"\n          label=\"Image url\"\n          onChange={this.handleChange}\n        />\n        <FormField\n          {...imdbUrl}\n          name=\"imdbUrl\"\n          placeholder=\"Paste IMDB url\"\n          label=\"IMDB url\"\n          onChange={this.handleChange}\n        />\n\n        <button\n          type=\"submit\"\n          className=\"button is-primary\"\n        >\n          Add film\n        </button>\n      </form>\n    );\n  }\n}\n\nNewFilm.propTypes = {\n  onAdd: PropTypes.func.isRequired,\n};\n","/* eslint-disable max-len */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { store } from '../../store';\n\nexport class FilmDetails extends Component {\nstate = {\n  film: store.getState().films\n    .find(f => String(f.id) === this.props.match.params.id),\n}\n\ncomponentDidMount() {\n  this.unsubscribe = store\n    .subscribe(() => this.setState({\n      film: store.getState().films.find(film => String(film.id) === this.props.match.params.id)\n    }));\n}\n\ncomponentWillUnmount() {\n  this.unsubscribe();\n}\n\nrender() {\n  const {\n    film: {\n      title,\n      description,\n      imgUrl,\n      imdbUrl,\n    },\n  } = this.state;\n  console.log(this.state.film)\n  return (\n    <div className=\"card\">\n      <div className=\"card-image\">\n        <figure className=\"image is-4by3\">\n          <img\n            src={imgUrl}\n            alt=\"Film logo\"\n          />\n        </figure>\n      </div>\n      <div className=\"card-content\">\n        <div className=\"media\">\n          <div className=\"media-left\">\n            <figure className=\"image is-48x48\">\n              <img\n                src=\"https://images-na.ssl-images-amazon.com/images/I/315W5zxAnTL._SY355_.png\"\n                alt=\"imdb\"\n              />\n            </figure>\n          </div>\n          <div className=\"media-content\">\n            <p className=\"title is-4\">{title}</p>\n          </div>\n        </div>\n\n        <div className=\"content\">\n          {description}\n          <br />\n          <a href={imdbUrl}>IMDB</a>\n        </div>\n      </div>\n    </div>\n  );\n}\n}\n\nFilmDetails.propTypes = {\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  imgUrl: PropTypes.string.isRequired,\n  imdbUrl: PropTypes.string.isRequired,\n};\n\nFilmDetails.defaultProps = {\n  description: '',\n};\n","import React, { Component } from 'react';\nimport './App.scss';\nimport {\n  HashRouter,\n  Switch,\n  Route,\n} from 'react-router-dom';\nimport FilmsList from './components/FilmsList/FilmsList';\nimport { NewFilm } from './components/NewFilm';\nimport { FormField } from './components/FormField';\nimport { FilmDetails } from './components/FilmDetails';\nimport { store, addNewFilm } from './store';\n\nconst API_URL = 'https://www.omdbapi.com/?apikey=2f4a38c9&t=';\n\nexport class App extends Component {\n  state = {\n    searchWord: '',\n  };\n\n  unsubscribe = null;\n\n  componentDidMount() {\n    this.searchFilm('spider');\n    this.unsubscribe = store\n      .subscribe(() => this.setState());\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  handleAddFilm = (newFilm) => {\n    const { films } = store.getState();\n    store.dispatch(addNewFilm({\n      ...newFilm,\n      id: films[films.length - 1].id + 1,\n    }));\n  };\n\n  handleSearchChange = ({ target }) => {\n    this.setState({ searchWord: target.value });\n  };\n\n  searchFilm = (searchWord) => {\n    fetch(`${API_URL}${searchWord}`)\n      .then(response => response.json())\n      .then((data) => {\n        const {\n          Title,\n          Plot,\n          Poster,\n          Website,\n          imdbID,\n        } = data;\n\n        const newFilm = {\n          id: imdbID,\n          title: Title,\n          description: Plot,\n          imgUrl: Poster,\n          imdbUrl: Website,\n        };\n\n        store.dispatch(addNewFilm(newFilm));\n      });\n  };\n\n  render() {\n    const { searchWord } = this.state;\n\n    return (\n      <HashRouter>\n        <div className=\"page\">\n          <div className=\"content\">\n            <div className=\"box\">\n              <FormField\n                value={searchWord}\n                name=\"searchWord\"\n                placeholder=\"Type search word\"\n                label=\"Search film\"\n                onChange={this.handleSearchChange}\n              />\n              <button\n                onClick={() => this.searchFilm(searchWord)}\n                type=\"button\"\n                className=\"button is-primary\"\n              >\n                Search film\n              </button>\n            </div>\n\n            <Switch>\n              <Route\n                exact\n                path=\"/\"\n                component={FilmsList}\n              />\n              <Route\n                exact\n                path=\"/film/:id\"\n                component={FilmDetails}\n              />\n            </Switch>\n          </div>\n          <div className=\"sidebar\">\n            <NewFilm onAdd={this.handleAddFilm} />\n          </div>\n        </div>\n      </HashRouter>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport 'bulma/css/bulma.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}